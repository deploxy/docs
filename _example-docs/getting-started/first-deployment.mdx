---
title: 'Your First Deployment'
summary: 'A step-by-step guide to deploying your first MCP server with Deploxy'
sequence: 3
---

# Your First Deployment

This guide will walk you through the process of deploying a simple Stdio-based MCP server from your local machine to the Deploxy cloud.

## Step 1: Create a Sample MCP Server

If you don't have an MCP server ready, you can use this simple "hello world" example.

**`package.json`**
```json
{
  "name": "@your-org/hello-mcp",
  "version": "1.0.0",
  "description": "A simple MCP server example for Deploxy",
  "main": "dist/index.js",
  "bin": {
    "hello-mcp": "./dist/index.js"
  },
  "scripts": {
    "build": "tsc",
    "start": "node dist/index.js"
  },
  "dependencies": {
    "@modelcontextprotocol/sdk": "^0.5.0"
  },
  "devDependencies": {
    "typescript": "^5.0.0"
  }
}
```

**`tsconfig.json`**
```json
{
  "compilerOptions": {
    "target": "esnext",
    "module": "esnext",
    "moduleResolution": "node",
    "strict": true,
    "outDir": "dist",
    "esModuleInterop": true
  },
  "include": ["src"]
}
```

**`src/index.ts`**
```typescript
#!/usr/bin/env node

import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import {
  CallToolRequestSchema,
  ListToolsRequestSchema,
} from '@modelcontextprotocol/sdk/types.js';

const server = new Server(
  { name: 'hello-mcp', version: '1.0.0' },
  { capabilities: { tools: {} } }
);

server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [{
    name: 'hello',
    description: 'Say hello to someone',
    inputSchema: {
      type: 'object',
      properties: { name: { type: 'string', description: 'Name to greet' } },
      required: ['name'],
    },
  }],
}));

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'hello') {
    const { name } = request.params.arguments;
    return { content: [{ type: 'text', text: `Hello, ${name}!` }] };
  }
  throw new Error(`Unknown tool: ${request.params.name}`);
});

async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error('Hello MCP Server running on stdio');
}

main().catch((error) => {
  console.error('Server error:', error);
  process.exit(1);
});
```

## Step 2: Initialize Deploxy

Run the `init` command in your project's root directory.

```bash
npx @deploxy/cli init
```

This command creates a `.deploxy.json` configuration file in your project.

## Step 3: Configure Your Deployment

Open the newly created `.deploxy.json` file and fill in the required values. You can get your `authToken` from the [Deploxy Dashboard](https://deploxy.com/dashboard/new).

```json
{
  "authToken": "your-auth-token-here",
  "defaultDeployRegion": "ap-northeast-2",
  "stdioArgsIndex": "--args",
  "mcpPath": "/mcp",
  "injectedEnv": {},
  "packageType": "js"
}
```

## Step 4: Set Up NPM Authentication

Create a `.npmrc` file in your project root to allow Deploxy to publish the proxy package for you.

```bash
echo "//registry.npmjs.org/:_authToken=\${NPM_TOKEN}" > .npmrc
```

<Callout type="warning" title="Keep Your Token Secret">
Make sure to add `.npmrc` to your `.gitignore` file if you plan to commit it. It's better to use an environment variable (`$NPM_TOKEN`) for your CI/CD pipeline.
</Callout>

## Step 5: Deploy Your Server

Now, run the deploy command:

```bash
npx @deploxy/cli deploy
```

The CLI will perform several steps: validate your configuration, collect necessary files, upload them securely, build and deploy your server, and finally, publish the lightweight proxy to NPM.

You should see output similar to this:
```
ï¿½ï¿½ï¿½ Validating configuration...
âœ“ Building project...
âœ“ Uploading to Deploxy...
âœ“ Deploying to serverless...
âœ“ Generating proxy package...
âœ“ Publishing to NPM...

ðŸŽ‰ Deployment successful!

Package: @your-org/hello-mcp
Proxy URL: https://abc123.deploxy.com/mcp
NPM Package: @your-org/hello-mcp-proxy

Users can now install:
npm install -g @your-org/hello-mcp-proxy
```

## Step 6: Test Your Deployment

Once deployed, you or your users can install the proxy package and use it with any MCP-compliant client.

```bash
# Install the generated proxy package
npm install -g @your-org/hello-mcp-proxy

# Use it from the command line
npx @your-org/hello-mcp-proxy
```

## Step 7: Monitor Your Deployment

Visit the [Deploxy Dashboard](https://deploxy.com/dashboard) to:

- View the status of your deployments.
- Monitor usage statistics and metrics.
- Check real-time logs and troubleshoot errors.
- Manage project settings and configurations.

Congratulations! You've successfully deployed your private MCP server with Deploxy.
